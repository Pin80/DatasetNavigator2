<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.3.7.2 (Linux)"/>
	<meta name="created" content="2024-05-26T20:46:55.819687177"/>
	<meta name="changed" content="00:00:00"/>
	<meta name="changed" content="00:00:00">
	<meta name="changed" content="00:00:00">
	<meta name="changed" content="00:00:00">
	<meta name="changed" content="00:00:00">
	<style type="text/css">
		@page { size: 210.01mm 297mm; margin: 20mm }
		p { line-height: 115%; margin-bottom: 2.47mm; background: transparent; background: transparent }
		a:link { color: #000080; text-decoration: underline }
		a:visited { color: #800000; text-decoration: underline }
	</style>
</head>
<body lang="ru-RU" link="#000080" vlink="#800000" dir="ltr"><p align="center" style="line-height: 100%; margin-top: 4.23mm; margin-bottom: 2.12mm; page-break-after: avoid">
<font face="Liberation Sans, sans-serif"><font size="6" style="font-size: 28pt"><b>Dataset
Navigator and <meta name="changed" content="00:00:00">Annotation tool</b></font></font></p>
<p><u><b>Описание:</b></u></p>
<p>Приложение состоит из двух частей 
</p>
<p><u>1)Dataset Navigator</u> : Показывает имена и
файлы изображений и их маски, находит
связь изображение и маски(показывая
галочку на строке с именем файла),
передает выбранное изображение (и маску
когда установлена связь) в Annotation tool, а
также другие функции.</p>
<p>Для определения связи имени файла
маски и изображения имя файла разбивается
на части: префикс, сффикс, остальное
(индекс, расширение) Имя файла изображения
связано с именем файла маски когда
соблюдаются следующие условия:</p>
<p>а)они имеют общий суффикс 
</p>
<p>б)суффикс соответствует тому что
указано в настройках</p>
<p>в)префикс маски соответствует тому
что указано в настройках</p>
<p>г)совпадает остальное(индекс, расширение)
</p>
<p><u>2)Annotation tool</u>: Рисует маску для
изображения, с помощь выбранного
инструмента и выбранного значения
маркера, ее временное(заморозка) и
постоянное сохранение, а также другие
функции.</p>
<p><u><b>Установка:</b></u></p>
<p>TODO (раздел пока не готов)</p>
<p><u><b>Зависимости:</b></u></p>
<ol>
	<li><p>Qt ( 5.12 – 5.15) (c++)</p>
	<li><p>zeromq (c и python bindings)</p>
	<li><p>opencv ( cv2 python)</p>
	<li><p>Numpy (python)</p>
	<li><p>python standard library: threading (python), json, glob, re</p>
	<li><p>PIL (python)</p>
	<li><p>в будущем: matplotlib (python)</p>
	<li><p>scipy (python)</p>
</ol>
<p><br/>
<br/>

</p>
<p><u><b>Пользовательский интерфейс
Annotation tool:</b></u></p>
<p><u>Горячие клавиши:</u></p>
<p>h — вызов справки</p>
<p>v — сменить вид (Canny → original)</p>
<p>s — заморозка, т.&nbsp;е. Наложение на
слой замороженной маски(изначально
пустой) слоя текущей(временной) маски
(слой замороженной маски подсвечивается
салатовым, а не замороженной красным)</p>
<p>f — сохрание маски (с уведомлением
Dataset Navigator)</p>
<p>r — сброс маски (стирание как слоя
временной маски так и замороженной)</p>
<p>c — сброс слоя временной маски 
</p>
<p>p — рисовать полигон (нужно минимум
три точки)</p>
<p>o — удаление контура для отрисовки
полигона</p>
<p>m — сдвиг курсора (для доступности
рисования в углах)</p>
<p>esc - выход</p>
<p><u>Трекбары:</u></p>
<p>class# - значение того кода, которым будет
рисоваться маска</p>
<p>width# - ширина пятна рисования/стирания</p>
<p>min#, max# - параметры фильтра Canny</p>
<p>tool# - выбор инструмента</p>
<p><u>Инструменты:</u></p>
<p>0 — нет инструмента</p>
<p>1 — рисование пятна если нет песечения
с контуром, который создал фильтр Canny</p>
<p>2 — рисование пятна</p>
<p>3 — заливка (эксперементальная фича,
пока работает нестабильно)</p>
<p>4 — ластик</p>
<p>5 — режим рисования полигона (точки
контура добавляются правой кнопкой
мыши)</p>
<p><br/>
<br/>

</p>
<p><u><b>Пользовательский интерфейс Dataset
Navigator:</b></u></p>
<p style="text-decoration: none">Image Folder — выбор папки
с изображениями</p>
<p style="text-decoration: none">Mask Image Folder — выбор
папки с масками изображений</p>
<p style="text-decoration: none">Update lists — ручное
обновление списков изображений и масок</p>
<p style="text-decoration: none">Переключатель Connect —
установить связь с Annotation tool</p>
<p style="text-decoration: none">Im/Msk — показать список
изображений/масок или через «swipe»
механизм</p>
<p style="text-decoration: none"><u>Контекстное меню:</u></p>
<p style="text-decoration: none">Send to A.T. - передать имя
файла изображения (а при наличии связи
и имя файла маски) в Annotation tool (или двойной
щелчок мыши)</p>
<p style="text-decoration: none">Show image — показать
изображение/маску в отдельном окне</p>
<p style="text-decoration: none">Find mask image file — поиск
связи вручную между именем файла
изображения из списка изображений и
именем файла маски и списка масок
(например image_photo00001.png с mask_photo00001.png)</p>
<p style="text-decoration: none">Fix all file names — исправить
все «неформатные» имена файлов
изображений/масок</p>
<p style="text-decoration: none">Reindex all file names —
реиндексировать все изображения/маски
начиная с номера указанного в диалоге</p>
<p><u><b>Описание файла settings.json</b></u></p>
<p style="text-decoration: none">zmqurlcp — адрес для
межпроцессного взаимодействия</p>
<p style="text-decoration: none">zmqurlpc - адрес для
межпроцессного взаимодействия</p>
<p style="text-decoration: none">default_width — ширина маски
по умолчанию</p>
<p style="text-decoration: none">default_height — высота
маски по умолчанию</p>
<p style="text-decoration: none">manual — путь к этому
мануалу</p>
<p style="text-decoration: none">scolor : [0, 0, 255] — цвет
слоя временной маски</p>
<p style="text-decoration: none">fcolor : [0, 255, 0] - — цвет
слоя постоянной маски</p>
<p style="text-decoration: none">ccolor : [255, 0, 0] — цвет
курсора</p>
<p style="text-decoration: none">lcolor : [0, 255, 255] - — цвет
линий полигона</p>
<p style="text-decoration: none">suffix - общий суффикс
имени изображения и маски</p>
<p style="text-decoration: none">mask_prefix - префикс в
имени маски</p>
<p style="text-decoration: none">mask_subfolder — подпапка
для масок по умолчанию</p>
<p style="text-decoration: none">log_filename - имя лог файла
для annotation tool</p>
<p style="text-decoration: none">start_folder — начальный
путь для Dataset Navigator</p>
<p style="text-decoration: none">&quot;python_app&quot; — имя
приложения? которое автоматически
запускается при запуске DatasetNavigator</p>
<p><br/>
<br/>

</p>
</body>
</html>